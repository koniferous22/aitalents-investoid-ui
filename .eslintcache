[{"/Users/melkos01/Documents/aitalents-investoid-ui/src/index.tsx":"1","/Users/melkos01/Documents/aitalents-investoid-ui/src/App.tsx":"2","/Users/melkos01/Documents/aitalents-investoid-ui/src/pages/NewsHeadlinePage.tsx":"3","/Users/melkos01/Documents/aitalents-investoid-ui/src/config.tsx":"4","/Users/melkos01/Documents/aitalents-investoid-ui/src/pages/SearchPage.tsx":"5","/Users/melkos01/Documents/aitalents-investoid-ui/src/pages/ResultsPage.tsx":"6","/Users/melkos01/Documents/aitalents-investoid-ui/src/components/CompanySearch.tsx":"7","/Users/melkos01/Documents/aitalents-investoid-ui/src/components/Prediction.tsx":"8","/Users/melkos01/Documents/aitalents-investoid-ui/src/components/DonutChart.tsx":"9"},{"size":223,"mtime":1609525497116,"results":"10","hashOfConfig":"11"},{"size":1618,"mtime":1609714342759,"results":"12","hashOfConfig":"11"},{"size":3298,"mtime":1609709602236,"results":"13","hashOfConfig":"11"},{"size":173,"mtime":1609714875375,"results":"14","hashOfConfig":"11"},{"size":154,"mtime":1609708885262,"results":"15","hashOfConfig":"11"},{"size":6429,"mtime":1609715229810,"results":"16","hashOfConfig":"11"},{"size":3462,"mtime":1609714137261,"results":"17","hashOfConfig":"11"},{"size":1835,"mtime":1609711725956,"results":"18","hashOfConfig":"11"},{"size":2296,"mtime":1609711819743,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"r6zzti",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"22"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/melkos01/Documents/aitalents-investoid-ui/src/index.tsx",[],["41","42"],"/Users/melkos01/Documents/aitalents-investoid-ui/src/App.tsx",["43"],"/Users/melkos01/Documents/aitalents-investoid-ui/src/pages/NewsHeadlinePage.tsx",["44"],"import React, { useCallback, useState } from 'react'\nimport styled from 'styled-components';\nimport debounce from 'lodash.debounce'\nimport { appConfig } from '../config';\nimport { Prediction } from '../components/Prediction';\n\ntype Mode = 'DAY' | 'WEEK'\n\nconst PageWrapper = styled.div`\n  text-align: center;\n`;\n\nconst RadioForm = styled.div`\n  margin-top: 10%;\n`;\n\nconst RadioBox = styled.input`\n  width: 20px;\n`;\n\nconst Title = styled.div`\n  font-family: 'Nunito Sans', sans-serif;\n  font-size: 30px;\n`;\n\nconst Label = styled.label`\n  font-family: 'Nunito Sans', sans-serif;\n  font-size: 20px;\n`;\n\nconst EnterText = styled.div`\n  margin-top: 40px;\n  font-family: 'Nunito Sans', sans-serif;\n  font-size: 35px;\n`;\n\nconst Input = styled.input`\n  max-width: 650px;\n  width: 100%;\n  font-size: 30px;\n  border-radius: 5px;\n`;\n\nconst getEndpointByMode = (mode: Mode) => {\n  switch (mode) {\n    case 'DAY':\n      return 'predict_day'\n    case 'WEEK':\n      return 'predict_week'\n  }\n}\n\ntype ClassifierResponse = {\n  class: 1 | 0;\n  logits: [number, number];\n  softmax: [number, number];\n}\n\nexport const NewsHeadlinePage = () => {\n  const [\n    recommendation,\n    setRecommendation\n  ] = useState<ClassifierResponse | null>(null);\n  const [\n    isLoading,\n    setLoading\n  ] = useState(false);\n  const [\n    mode,\n    setMode\n  ] = useState<Mode>('DAY');\n  const [\n    headline,\n    setHeadline\n  ] = useState('');\n  const callApi = useCallback(debounce((text: string, mode: Mode) => {\n    if (!text || text === '') {\n      setRecommendation(null)\n    }\n    fetch(\n      `${appConfig.apiUrl}/${getEndpointByMode(mode)}/${encodeURIComponent(text)}`, \n      {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n    ).then((res) => res.json())\n    .then((data) => setRecommendation(data))\n    .finally(() => setLoading(false))\n  }, appConfig.debounceTime), [])\n  return (\n    <PageWrapper>\n      <RadioForm>\n        <Title>\n          Predicting stock change after\n        </Title>\n        <Label>\n          <RadioBox\n            type={'radio'}\n            value={'DAY'}\n            checked={mode === 'DAY'}\n            onChange={(e) => {\n              setMode(e.target.value as Mode)\n              callApi(headline, e.target.value as Mode)\n            }}\n          />\n          1 day\n        </Label>\n        <Label>\n          <RadioBox\n            type={'radio'}\n            value={'WEEK'}\n            checked={mode === 'WEEK'}\n            onChange={(e) => {\n              setMode(e.target.value as Mode)\n              callApi(headline, e.target.value as Mode);\n            }}\n          />\n          1 week\n        </Label>\n      </RadioForm>\n      <div>\n        <EnterText>\n          Enter example news headline:\n        </EnterText>\n        <Input type={'text'} onChange={(e) => {\n          setHeadline(e.target.value)\n          if (e.target.value.length > 0) {\n            setLoading(true)\n          }\n          callApi(e.target.value, mode)\n        }}/>\n        { isLoading && (\n            <div>\n              Predicting\n            </div>\n          )\n        }\n        { recommendation && <Prediction size={'LARGE'} justifyItems={'center'} title={headline} predictedClass={recommendation.class} softmax={recommendation.softmax} />}\n      </div>\n    </PageWrapper>\n  )\n}","/Users/melkos01/Documents/aitalents-investoid-ui/src/config.tsx",[],"/Users/melkos01/Documents/aitalents-investoid-ui/src/pages/SearchPage.tsx",[],"/Users/melkos01/Documents/aitalents-investoid-ui/src/pages/ResultsPage.tsx",["45","46","47","48"],"/Users/melkos01/Documents/aitalents-investoid-ui/src/components/CompanySearch.tsx",["49"],"import debounce from 'lodash.debounce';\nimport styled, { css } from 'styled-components';\nimport React, { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { appConfig } from '../config';\n// @ts-expect-error\nimport { stringify } from 'query-string';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\ntype Size = 'SMALL' | 'LARGE'\n\nconst SearchWrapper = styled.div`\n  display: flex;\n  margin-top: 20px;\n  margin-left: 33vw;\n  align-items: center;\n  width: 67vw;\n`;\n\nconst SearchInput = styled.input<{ fontSize: Size }>`\n  max-width: 650px;\n  width: 34vw;\n  ${({ fontSize }) => fontSize === 'SMALL'\n  ? css`\n    font-size: 20px;\n  `\n  : css`\n    font-size: 30px;\n  `}\n  border-radius: 5px;\n`;\n\nconst SuggestionsWrapper = styled.div`\n  position: absolute;\n  text-align: left;\n  left: 0px;\n  margin-left: 33vw;\n  padding: 5px;\n  border: 2px solid;\n  border-radius: 5px;\n  max-width: 650px;\n  width: 33vw;\n`;\n\nconst SearchIcon = styled(FontAwesomeIcon)`\n  margin-left: 10px;\n  padding: 5px;\n  border: 3px solid;\n  border-radius: 5px;\n  &:hover {\n    cursor:pointer;\n  }\n`;\n\nconst SearchLinkWrapper = styled.div`\n  &:hover {\n    background-color: #CCCCCC;\n  }\n`;\n\nconst SearchLink = styled.div`\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n    cursor:pointer;\n  }\n`\n\nconst LoadingWrapper = styled.div`\n  margin-left: 10px;\n`;\n\ntype Props = {\n  size: Size;\n}\n\nexport const CompanySearch = ({ size }: Props) => {\n  const [\n    searchInput,\n    setSearchInput\n  ] = useState('');\n  const [\n    isLoading,\n    setLoading\n  ] = useState(false);\n  const [\n    suggestions,\n    setSuggestions,\n  ] = useState<null | Array<{ id: string; suggestion: string}>>(null)\n  const history = useHistory();\n  const callSaytApi = useCallback(debounce((text: string) => {\n    if (!text || text === '') {\n      setSuggestions(null);\n    }\n    fetch(\n      `${appConfig.apiUrl}/sayt/${encodeURIComponent(text)}`, \n      {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n    ).then((res) => res.json())\n    .then((data) => {\n      setSuggestions(data['found_companies'])\n      setTimeout(() => setSuggestions(null), 4000)\n    })\n    .finally(() => setLoading(false))\n  }, appConfig.debounceTime), [])\n  return (\n    <div>\n      <SearchWrapper>\n        <SearchInput\n          type={'text'}\n          fontSize={size}\n          onChange={(e) => {\n            setSearchInput(e.target.value)\n            if (e.target.value.length > 0) {\n              setLoading(true)\n            }\n            callSaytApi(e.target.value)\n          }}\n        />\n        <SearchIcon size={size === 'LARGE' ? '2x' : '1x'} icon={faSearch} onClick={() => history.push(`/results?${stringify({ search: searchInput })}`)} />\n        { isLoading === true && <LoadingWrapper>Loading</LoadingWrapper>}\n      </SearchWrapper>\n      { suggestions && (\n        <SuggestionsWrapper>\n          { suggestions.length > 0 && suggestions.map(({ id, suggestion }) => (\n                <SearchLinkWrapper key={id} onClick={() => history.push(`/results?${stringify({ id })}`)} >\n                  <SearchLink>{suggestion}</SearchLink>\n                </SearchLinkWrapper>\n              ))\n          }\n          { suggestions && suggestions.length === 0 && !isLoading && <div>No results found</div> }\n        </SuggestionsWrapper>\n      )}\n    </div>\n  )\n};\n","/Users/melkos01/Documents/aitalents-investoid-ui/src/components/Prediction.tsx",[],"/Users/melkos01/Documents/aitalents-investoid-ui/src/components/DonutChart.tsx",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":33,"column":5,"nodeType":"56","endLine":33,"endColumn":26},{"ruleId":"57","severity":1,"message":"58","line":76,"column":19,"nodeType":"59","endLine":76,"endColumn":30},{"ruleId":"60","severity":1,"message":"61","line":59,"column":16,"nodeType":"59","messageId":"62","endLine":59,"endColumn":22},{"ruleId":"57","severity":1,"message":"63","line":71,"column":6,"nodeType":"64","endLine":71,"endColumn":29,"suggestions":"65"},{"ruleId":"57","severity":1,"message":"66","line":207,"column":6,"nodeType":"64","endLine":207,"endColumn":18,"suggestions":"67"},{"ruleId":"57","severity":1,"message":"68","line":212,"column":6,"nodeType":"64","endLine":212,"endColumn":17,"suggestions":"69"},{"ruleId":"57","severity":1,"message":"58","line":92,"column":23,"nodeType":"59","endLine":92,"endColumn":34},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","Identifier","@typescript-eslint/no-unused-vars","'inView' is assigned a value but never used.","unusedVar","React Hook useEffect has a missing dependency: 'onLoad'. Either include it or remove the dependency array. If 'onLoad' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["72"],"React Hook useEffect has a missing dependency: 'callSearchResults'. Either include it or remove the dependency array.",["73"],"React Hook useEffect has a missing dependency: 'callArticles'. Either include it or remove the dependency array.",["74"],"no-global-assign","no-unsafe-negation",{"desc":"75","fix":"76"},{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},"Update the dependencies array to be: [entry?.isIntersecting, onLoad]",{"range":"81","text":"82"},"Update the dependencies array to be: [callSearchResults, id, search]",{"range":"83","text":"84"},"Update the dependencies array to be: [callArticles, ids, mode]",{"range":"85","text":"86"},[1730,1753],"[entry?.isIntersecting, onLoad]",[5024,5036],"[callSearchResults, id, search]",[5117,5128],"[callArticles, ids, mode]"]